{"version":3,"sources":["../../src/pages/patient/patient.module.ts","../../src/pages/patient/patient.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PatientPage } from './patient';\n\n@NgModule({\n  declarations: [\n    PatientPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PatientPage),\n  ],\n})\nexport class PatientPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patient/patient.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { HomePage } from '../home/home';\nimport { PatientRegisterPage } from '../patient-register/patient-register';\n\n\n\n\n/**\n * Generated class for the PatientPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-patient',\n  templateUrl: 'patient.html',\n})\n\nexport class PatientPage {\n\n  Patients;\n\n  shownGroup = null;\n  \n  patient = {\n    _i: '',\n    name: '',\n    email: '',\n    phone: '',\n    begin: '',\n    value_payment: '',\n    payment: ''\n  }\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController,\n    public http: Http,\n    public db: AngularFireDatabase,\n  ) {\n    this.Patients = [];\n\n\n\n\n  }\n  //-----------------------------------------------TOGGLE\n  toggleGroup(group) {\n    if (this.isGroupShown(group)) {\n      this.shownGroup = null;\n    } else {\n      this.shownGroup = group;\n    }\n  };\n  isGroupShown(group) {\n    return this.shownGroup === group;\n  };\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PatientPage');\n    this.getPatients();\n  }\n\n  //---------------------------------------------PAGES\n  goFinantial() {\n    this.navCtrl.push('FinantialPage');\n  }\n  goHome() {\n    this.navCtrl.push(HomePage);\n  }\n  goPaymentSlip() {\n    this.navCtrl.push('PaymentSlipPage');\n  }\n  goPatientRegister() {\n    this.navCtrl.push(PatientRegisterPage);\n  }\n\n  //-----------------------------------------GET_PATIENTS\n  getPatients() {\n    this.http.get('https://agendapp-6daf1.firebaseio.com/patients.json')\n      .map(res => res.json())\n      .subscribe(data => {\n        if (data !== null && data !== undefined) {\n          this.ShowPatients(data);\n        }\n      })\n  }\n  //--------------------------------------------------SHOW_PATIENTS\n  ShowPatients(data) {\n    this.Patients = Object.keys(data).map(i => {\n      data[i]._i = i;\n      return data[i];\n    });\n    this.Patients.sort((a, b) => (a.name < b.name) ? -1 : 1);\n\n  }\n  //---------------------------------------------------PAYMENT_ALERT\n  payment(_i, name, email, phone, begin, value_payment, payment) {\n    const confirm = this.alertCtrl.create({\n      title: 'Confirmar Pagamento',\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: () => {\n            console.log('Cancelar Clicado');\n          }\n        },\n        {\n          text: 'Confirmar',\n          handler: () => {\n            this.db.database.ref('patients/' + _i).update({\n              _i: _i,\n              name: name,\n              email: email,\n              phone: phone,\n              begin: begin,\n              value_payment: value_payment,\n              payment: true\n            })\n            this.navCtrl.setRoot('PatientPage');\n            const toast = this.toastCtrl.create({\n              message: 'Pagamento Atualizado!',\n              duration: 3000\n            });\n            toast.present();\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  //--------------------------------------------PATIENT_DELETE\n  async delPatient(_i: string) {\n    console.log(_i)\n    const confirm = this.alertCtrl.create({\n      title: 'Remover Paciente?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: () => {\n            console.log('Cancelar Clicado');\n          }\n        },\n        {\n          text: 'Confirmar',\n          handler: () => {\n            this.db.database.ref('patients/' + _i).remove();\n            console.log(_i);\n            const toast = this.toastCtrl.create({\n              message: 'Paciente removido!',\n              duration: 3000\n            });\n            toast.present();\n            this.navCtrl.push(PatientPage);\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  //---------------------------------------------------PATIENT_EDIT\n  editPatient(_i, name, email, phone, begin, value_payment, payment) {\n\n    this.navCtrl.push('EditPatientPage', {\n      _i: _i,\n      name: name,\n      email: email,\n      phone: phone,\n      begin: begin,\n      value_payment: value_payment,\n      payment: payment\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patient/patient.ts"],"sourceRoot":""}